# QueryDog

A query log viewer and analysis tool for ClickHouse databases.

## Prerequisites

- Node.js 22+
- A ClickHouse database with query logs

## Environment Variables

Create a `.env` file in the root directory with the following variables:

```env
CLICKHOUSE_HOST=your-clickhouse-host
CLICKHOUSE_USER=your-username
CLICKHOUSE_PASSWORD=your-password
CLICKHOUSE_DATABASE=your-database
CLICKHOUSE_SECURE=1
CLICKHOUSE_PORT=9440
CLICKHOUSE_PORT_HTTP=8443
```

## Running with Docker

### Using Docker Compose (Recommended)

1. Create a `.env` file with your ClickHouse credentials (see above)

2. Build and start the container:
   ```bash
   docker-compose up -d
   ```

3. Access the application at http://localhost:3001

4. To stop the container:
   ```bash
   docker-compose down
   ```

### Using Docker Directly

1. Build the image:
   ```bash
   docker build -t querydog .
   ```

2. Run the container:
   ```bash
   docker run -d \
     -p 3001:3001 \
     -e CLICKHOUSE_HOST=your-clickhouse-host \
     -e CLICKHOUSE_USER=your-username \
     -e CLICKHOUSE_PASSWORD=your-password \
     -e CLICKHOUSE_DATABASE=your-database \
     -e CLICKHOUSE_SECURE=1 \
     -e CLICKHOUSE_PORT=9440 \
     -e CLICKHOUSE_PORT_HTTP=8443 \
     --name querydog \
     querydog
   ```

3. Access the application at http://localhost:3001

## Running Locally (Development)

1. Install dependencies:
   ```bash
   npm install
   ```

2. Start both the frontend and backend in development mode:
   ```bash
   npm run dev:all
   ```

   Or run them separately:
   ```bash
   # Terminal 1 - Frontend (Vite)
   npm run dev

   # Terminal 2 - Backend (Express)
   npm run dev:server
   ```

3. Access the application at http://localhost:5173 (frontend dev server proxies API requests)

## Production Build

1. Build the application:
   ```bash
   npm run build
   ```

2. Start the production server:
   ```bash
   npm start
   ```

3. Access the application at http://localhost:3001
>>>>>>> fcd1e74 (Progress on various screens)
